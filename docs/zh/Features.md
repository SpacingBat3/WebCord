## WebCord当前实现（和计划中）的功能列表

由于WebCord基于Discord网站（与官方客户端和客户端mod不同），它不使用任何Discord的专有Node.js C++原生模块，也不假装自己是官方Discord客户端（而是作为Chromium浏览器），因此它具有类似Discord Web应用程序的功能和限制。然而，WebCord客户端能够对其进行一些调整，实现了以下功能列表：

| 名称 | 描述 | 状态/备注 |
| --- | --- | --- |
| 托盘图标 | 隐藏托盘中的应用程序。 | ✅️ 完成 |
| 红点提示（托盘） | 在托盘图标上显示DM或提及的指示器。 | ✅️ 完成 |
| 自定义CSP | 允许用户修改CSP以阻止不必要的网站。 | ✅️ 完成 |
| 提及时闪烁窗口 | 即使托盘被禁用，也通过闪烁窗口按钮在视觉上指示提及或私信。 | ✅️ 完成 |
| 自定义字典语言 | 自定义自动完成功能使用的语言集 | ❌️ **待办** |
| 翻译 | WebCord的多语言本地化支持。 | ✅️ 完成 |
| 隐藏Discord侧边栏 | 切换包含频道列表的侧边栏的可见性状态。这使得WebCord可以在像PinePhone智能手机这样的小屏幕设备上工作。 | ✅️ 完成 |
| 基于Node.js的WebCord扩展支持 | WebCord特定插件实现，允许使用Node依赖项。 | ❌️ **待办** |
| 基于Chromium的扩展支持 | Chromium浏览器插件支持。 | 1️⃣ ***Alpha***（实验性实现） |
| 插件权限管理 | 出于安全原因限制插件的权限。 | ❌️ **待办** |
| 推到说话全局快捷键 | 使PTT快捷键全局可用。 | ❌️ **待办** |
| 阻止`/science`和`/tracing` API端点 | 实施阻止Discord中一些已知跟踪方法。 | ✅️ 完成 |
| 阻止`/typing` API端点 | 可选择性阻止输入指示器。 | ✅️ 完成 |
| 端到端消息加密。 | 允许在发送前加密消息框中的消息。 | ❌️ **待办** |
| 基于HTML的设置菜单 | 基于Web的设置菜单，而不是GTK（菜单栏）菜单。 | 2️⃣ ***Beta***（正在积极改进） |
| 命令行标志解析 | 提供对命令行参数的处理支持，包括像`--help`这样的常见标志。 | ✅️ 完成 |
| WebCord更新通知 | 每当新版本的WebCord发布时通知用户 | ✅️ 完成 |
| 错误报告生成 | 根据操作系统配置自动生成错误报告 | ✅️ 完成 |
| `buildInfo.json` | 实现生成和解析包含发布信息和构建标志的JSON配置文件。 | ✅️ 完成 | 
| 应用内文档浏览器 | 内置的Markdown阅读器，用于离线文档文件。 | ✅️ 完成 |
| 加载时的启动画面 | 在加载Discord之前显示动画启动画面。 | ✅️ 完成 |
| 权限管理 | 允许您决定Discord可以做什么，不可以做什么。 | ✅️ 完成 |
| 自定义Discord实例 | 允许使用不同的Discord实例，例如Fosscord。 | 1️⃣ ***Alpha*** |
| 隐藏下载按钮/弹出窗口 | 隐藏指向官方Discord客户端下载链接的元素 | ✅️ 完成 |
| 基于HTML的*关于*面板 | 显示应用程序信息的非本地窗口，如许可证、版本或致谢。 | 2️⃣ ***Beta***（正在积极改进） |
| 自定义Discord和WebCord样式 | 允许使用自己的主题样式Discord和WebCord。 | 1️⃣ ***Alpha***（目前只能样式化Discord） |
| 响应邀请URL | 响应公会邀请链接（像官方Discord客户端一样）。 | ✅️ 完成 |
| 使用外部Web浏览器导航 | 通过WebSocket处理导航请求 | ✅️ 完成 |
| 应用数据加密 | 加密应用文件，防止第三方软件篡改。 | 2️⃣️ ***Beta***（计划改进） |

<sub> **注意：** 请为上述列出的功能报告错误。如果您的问题描述了不在列表中的功能，您可能需要提出一个**功能请求**。如果一些已实现的应用程序功能缺失，请在*问题*或*讨论*中告知我。如果您足够有才华，您也可以自己实现它们并进行拉取请求。 </sub>

### 状态图例：

- ❌️ **待办** – 这个功能**可能**或**可能不**在未来实现。它处于*概念*状态——关于它的实现还没有任何内容，它可能不会很快实现，即使它计划被完成。

- ⚠️ **将做** – 关于这个功能的代码还没有任何实现，但它被计划为下一个要处理的特性。

- 1️⃣ ***Alpha*** – 实现这个功能的工作已经开始，但它仍然远未完成。
  
- ️2️⃣️ ***Beta*** – 这个功能已经大部分实现，但在被标记为*完成*之前仍需要进行润色。这表明这个功能将被积极改进以适应新的变化，找到更好的实现方式等。

- ✅️ **完成** – 这个功能已经完全实现，无需积极工作。

- ⛔️ **损坏** – 这个功能之前可以工作，但由于某些Discord和/或WebCord更新，它最近停止工作了。

- 🚧️ ***施工中*** – 正在进行重大重写以改进它。

---

### 实验性功能

以下是一些尚未明显实现且远非*用户友好*的功能的说明。这里的意思是可能会破坏，所以不要指望您能够按预期使用它们。

#### 1. 自定义Discord样式

从版本`3.0.0`开始，WebCord能够样式化Discord页面——与Stylus等浏览器扩展不同，它在不注入任何HTML元素到页面的情况下做到这一点，更难检测到修改。另一方面，注入的样式表可以被Discord CSS轻松覆盖某些属性，这可以通过`!important`规则来防止。此外，使用`@import`关键字引用另一个CSS样式表根本不起作用，需要在注入前解决。这就是为什么WebCord到`3.1.3`的实现如此问题重重，并且与大多数现成的Discord主题不兼容的原因。

然而，自从`3.1.4`发布以来，它已经大大改进——大多数不依赖于远程内容（如图像和字体）的主题现在应该大部分功能正常，因为WebCord目前能够解析`@import`语句，并在运行时修复主题，以使Chromium正确渲染它们。现在唯一的问题是允许样式提供自己的内容安全策略，以允许加载脚本正常工作所需的远程内容。

目前，WebCord在它们以`.theme.css`扩展名结尾时从`{userData}/Themes/`目录加载CSS主题，就像大多数BetterDiscord主题一样。

然而，未来的版本中WebCord将使用`safeStorage`加密主题，以防止在添加到WebCord后被第三方软件篡改，以提高安全性，特别是在计划允许主题以某种方式修改其CSP的未来版本中。这破坏了通过`.theme.css`文件加载主题，并添加了`--add-css-theme`标志作为替代。

#### 2. Chrome扩展

从版本`3.0.0`开始，WebCord可以使用Electron的[Chrome扩展支持][chrome-ext]加载未打包的Chrome扩展。由于Electron实现的Chrome扩展与Chromium中的扩展相去甚远（这是由于Electron在Chromium的代码中移除了很多浏览器特定代码），许多扩展可能无法完全功能或根本不起作用。

这就是为什么考虑在未来实现WebCord特定的扩展实现，这种情况下Chromium扩展可能会被弃用和/或删除。

你可以通过从`.crx`归档中提取它们到`{userData}/Extensions/Chrome/{extension name}/`文件夹来加载Chromium扩展。

[chrome-ext]: https://www.electronjs.org/docs/latest/api/extensions  "Chrome Extension Support | Electron的在线文档"
